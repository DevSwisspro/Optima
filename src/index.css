@tailwind base;
@tailwind components;
@tailwind utilities;

/* Optimisation typographique pour l'alignement des nombres */
.tabular-nums {
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
}

/* Amélioration de l'affichage des montants avec espaces insécables */
.currency-amount {
  white-space: nowrap;
  font-variant-numeric: tabular-nums;
}

/* Alignement parfait des montants dans les cartes budget */
.budget-amount-container {
  display: flex;
  align-items: center;
  justify-content: center;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.02em;
}

.budget-amount-sign {
  width: 1rem;
  text-align: center;
  flex-shrink: 0;
}

.budget-amount-value {
  margin: 0 0.25rem;
  min-width: 0;
}

.budget-amount-currency {
  margin-left: 0.25rem;
  flex-shrink: 0;
  font-size: 0.875em;
}

/* ====== ANIMATIONS MODERNES POUR PWA ====== */

/* Animation gradient pour le titre OPTIMA */
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Animation de pulsation douce pour les éléments importants */
@keyframes softPulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.02); }
}

/* Animation de flottement pour les cardes */
@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33% { transform: translateY(-4px) rotate(0.5deg); }
  66% { transform: translateY(-2px) rotate(-0.5deg); }
}

/* Animation de shimmer pour les boutons */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Améliorations visuelles pour PWA */
.glass-effect {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-dark {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.neo-shadow {
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.12),
    0 2px 6px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Amélioration des transitions pour une expérience fluide */
.smooth-transition {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimisations performances pour iOS/iPhone */
.performance-optimized {
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Touch targets optimisés iPhone (44px minimum) */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Optimisations PWA iPhone spécifiques */
.iphone-optimized {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  touch-action: manipulation;
}

/* Amélioration du scroll pour iPhone */
.smooth-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
}

/* Fixes pour les safe areas iPhone */
@supports (padding: max(0px)) {
  .safe-area-inset {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}
